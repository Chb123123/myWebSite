"use strict";(self["webpackChunkmy_webite"]=self["webpackChunkmy_webite"]||[]).push([[107],{1107:function(t,e,s){s.r(e),s.d(e,{default:function(){return d}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("el-collapse-transition",[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showHeader,expression:"showHeader"}],staticClass:"headerTable"},[e("div",{staticClass:"headerNav"},[e("ul",[e("li",[e("span",{on:{click:t.outLogin}},[t._v("退出登入")])])])]),e("div",{staticClass:"userPic"},[e("el-image",{staticClass:"userPicImg",staticStyle:{width:"100%",height:"100%"},attrs:{src:t.userInfo.user_pic,"preview-src-list":t.srcList}})],1)])]),e("div",{staticClass:"headerImg"}),e("div",{staticClass:"focusMap"},[e("div",{staticClass:"mapList"},[e("el-carousel",{attrs:{height:"450px"}},t._l(t.fouceMap,(function(t){return e("el-carousel-item",{key:t.id},[e("div",{staticClass:"mapItem"},[e("img",{attrs:{src:t.imgUrl,alt:""}})])])})),1)],1),e("div",{staticClass:"newsText"},[e("div",{staticClass:"userInfo"},[e("div",{staticClass:"user_pic"},[e("el-image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.userInfo.user_pic,"preview-src-list":t.srcList}})],1),e("div",{staticClass:"userNameStyle"},[e("span",{staticStyle:{width:"80px"}},[t._v("昵称：")]),e("div",{staticClass:"userContent"},[t._v(t._s(t.userInfo.userName))])]),e("div",{staticClass:"signatureStyle"},[e("span",{staticStyle:{width:"80px"}},[t._v("签名：")]),e("div",{staticClass:"signatureContent"},[t._v(t._s(t.userInfo.user_signature))])])]),e("div",{staticClass:"aboutInfo"},[t._v("详情页面")])])]),e("div",{staticClass:"moduleList"},t._l(t.navList,(function(s){return e("div",{key:s.id,staticClass:"moduleItem",on:{click:function(e){return t.gotoView(s.id)}}},[e("div",{staticClass:"module"},[t._v(t._s(s.title))])])})),0)],1)},r=[],i=(s(7658),s(6206)),n=s(7096),u={name:"myHome",data(){return{userInfo:{},labelList:[],navIndex:0,newIndex:0,srcList:[],fouceMap:[],showHeader:!0,scrollHeight:0,scrollFalg:!0,canvasDom:null,navList:[{id:1,title:"图片欣赏"},{id:3,title:"文章发布"},{id:4,title:"网站收集"},{id:2,title:"个人详情"}]}},created(){const t=JSON.parse(localStorage.getItem("myWebiteUser"));this.getUser(t.userId,t.accountNumber),this.getFouseMap(t.userId)},methods:{async getUser(t,e){const s=await(0,n.bG)(t,e);1===s.data.status?(this.userInfo=s.data.queryData,console.log(this.userInfo),this.srcList.push(this.userInfo.user_pic)):this.$message(s.data.message)},gotoView(t){switch(this.navIndex=t,console.log(this.navIndex),t){case 1:this.$router.push("/imageList");break;case 2:this.$router.push("/user");break;case 3:this.$router.push("/article");break}},outLogin(){localStorage.removeItem("myWebiteUser"),this.$router.replace("/login")},async getFouseMap(t){const e=await(0,i.Dn)(t);if(1!==e.data.status)return this.$message("获取轮播图失败");this.fouceMap=e.data.queryData},handleScroll(){this.scrollFalg&&clearTimeout(this.scrollFalg),this.scrollFalg=setTimeout((()=>{const t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;console.log(t,"滚动距离")}),100)}},mounted(){this.canvasDom=document.getElementById("canvas_sakura"),console.log(this.canvasDom),this.canvasDom&&(this.canvasDom.style.display="none"),window.addEventListener("scroll",this.handleScroll)}},o=u,c=s(1001),l=(0,c.Z)(o,a,r,!1,null,"41878bcc",null),d=l.exports},6206:function(t,e,s){s.d(e,{Dn:function(){return r},SD:function(){return i}});var a=s(2247);JSON.parse(localStorage.getItem("myWebiteUser"));const r=function(t){return(0,a.Z)({method:"get",url:"/api/getHomeFouseMap",params:{userId:t}})},i=function(t,e,s){return(0,a.Z)({method:"post",url:"/api/releaseArticle",data:{userId:t,article:e,title:s}})}},7096:function(t,e,s){s.d(e,{AS:function(){return n},BU:function(){return i},Ey:function(){return d},NA:function(){return c},NJ:function(){return l},a$:function(){return r},bG:function(){return u},cZ:function(){return m},jJ:function(){return o},p:function(){return h}});var a=s(2247);const r=function(t,e){return(0,a.Z)({method:"post",url:"/my/registerUser",data:{accountNumber:t,password:e}})},i=function(t){return(0,a.Z)({method:"get",url:"/my/userIsExist",params:{accountNumber:t}})},n=function(t,e){return(0,a.Z)({method:"post",url:"/my/loginFunction",data:{accountNumber:t,password:e}})},u=function(t,e){return(0,a.Z)({method:"GET",url:"/api/userInfo",params:{userId:t,accountNumber:e}})},o=function(){return(0,a.Z)({method:"get",url:"/api/userIndex"})},c=function(t){return(0,a.Z)({method:"get",url:"/api/tableInfo",params:{tableText:t}})},l=function(t,e){return(0,a.Z)({method:"POST",url:"/api/updataSignature",data:{userId:t,signature:e}})},d=function(t,e){return(0,a.Z)({method:"POST",url:"/api/updataUserPic",data:{userId:t,userPic:e}})},m=function(t,e,s,r){return(0,a.Z)({method:"POST",url:"/api/updataUserInfo",data:{userName:t,userId:e,user_pic:s,user_signature:r}})},h=function(){return(0,a.Z)({method:"GET",url:"/api/getWeather"})}}}]);
//# sourceMappingURL=107.dd21cffd.js.map